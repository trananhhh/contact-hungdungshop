<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="icon"
            href="./src/img/faviconAgency.png"
            type="image/gif"
            sizes="16x16"
        />
        <link rel="stylesheet" href="./src/css/base.css" />
        <link rel="stylesheet" href="./src/css/style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
            integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500&display=swap"
            rel="stylesheet"
        />
        <meta
            name="theme-color"
            media="(prefers-color-scheme: light)"
            content="e0e0e0"
        />
        <meta
            name="theme-color"
            media="(prefers-color-scheme: dark)"
            content="2e2e2e"
        />

        <script
            type="module"
            src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
        ></script>
        <script
            nomodule
            src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
        ></script>

        <title>Cửa hàng Hùng Dung</title>
    </head>
    <body class="theme-change">
        <div class="main grid">
            <!-- Begin: Profile -->
            <div class="profile button theme-change">
                <div class="avatar-frame button theme-change button--pressed">
                    <img
                        src="./src/img/ava.png"
                        alt=""
                        class="avatar-frame__img"
                    />
                </div>
                <h1 class="profile__name">Cửa hàng Hùng Dung</h1>
                <p class="profile__descriptions">
                    Điện tử / Điện lạnh / Điện gia dụng
                </p>
                <a
                    href="./src/file/file.vcf"
                    class="profile__add-to-contact-btn button theme-change button--highlight"
                >
                    <h5>Lưu vào danh bạ</h5>
                </a>
            </div>
            <!-- End: Profile -->
            <!-- Begin: Social -->
            <div class="phone-infos-container row">
                <button
                    onclick="showDetails('phone-info__advise', 'details-advise')"
                    id="phone-info__advise"
                    class="phone-info button theme-change col-half col has-more"
                >
                    <i class="fas fa-phone"></i>
                    <h2 class="phone-info__heading">Tư vấn<br />mua hàng</h2>
                </button>
                <button
                    onclick="showDetails('phone-info__tech', 'details-tech')"
                    id="phone-info__tech"
                    class="phone-info button theme-change col-half col has-more"
                >
                    <i class="fas fa-phone"></i>
                    <h2 class="phone-info__heading">Hỗ trợ<br />kỹ thuật</h2>
                </button>
            </div>
            <!-- End: Social -->

            <!-- Begin: Mail & Phone -->
            <div
                id="details-advise"
                class="more-details call-now col-full button button--pressed theme-change hidden"
            >
                <p onclick="copyContent(this)">0983825129</p>
                <a
                    class="more-details-btn call-now-btn col button theme-change button--highlight"
                    href="tel:0983825129"
                >
                    Gọi ngay
                </a>
            </div>
            <div
                id="details-tech"
                class="more-details call-now col-full button button--pressed theme-change hidden"
            >
                <p onclick="copyContent(this)">0982362152</p>
                <a
                    class="more-details-btn call-now-btn col button theme-change button--highlight"
                    href="tel:0982362152"
                >
                    Gọi ngay
                </a>
            </div>
            <!-- End: Mail & Phone -->
            <!-- Begin: More info details -->
            <div id="banking-info-container" class="more-info-container">
                <div class="row">
                    <div
                        id="press-here"
                        class="col col-two-fifth highlight-text theme-change"
                    >
                        <span>
                            <p>Chọn STK</p>
                            <p>ngân hàng</p>
                        </span>
                        <i class="fas fa-arrow-circle-right"></i>
                    </div>
                    <select
                        id="banking-info__list"
                        class="col col-three-fifth button theme-change highlight-text"
                        onchange="showNumber()"
                        required
                    >
                        <!-- <option value="none" disabled selected></option> -->
                        <option value="8703205000691" selected="selected">
                            Agribank
                        </option>
                        <option value="8703205000691">MB Bank</option>
                        <option value="0983825129">ViettelPay</option>
                    </select>
                </div>
                <div
                    class="more-details col-full button theme-change button--pressed"
                    onclick="copyContent(this.childNodes[1])"
                >
                    <p id="banking-content" class="content"></p>
                    <a
                        class="more-details-btn button theme-change button--highlight"
                    >
                        Sao chép
                    </a>
                </div>
            </div>

            <div class="location-container hidden">
                <div
                    id="location-title"
                    class="col-full highlight-text theme-change"
                >
                    <p>Địa chỉ cửa hàng</p>
                    <i class="fas fa-directions"></i>
                </div>
                <div
                    class="more-details col-full button theme-change button--pressed"
                    onclick="copyContent(this.childNodes[1])"
                >
                    <p id="location-content" class="content">
                        102 Sông Thao, Cổ Phúc, Trấn Yên, Yên Bái
                    </p>
                    <a
                        href="https://goo.gl/maps/2fipTm22BZbfwQGW9"
                        class="more-details-btn button theme-change button--highlight"
                    >
                        Chỉ đường
                    </a>
                </div>
            </div>
        </div>
        <script>
            showNumber();
            var changeThemeList =
                document.getElementsByClassName('theme-change');
            if (window.matchMedia('(prefers-color-scheme: light)').matches)
                for (x of changeThemeList) x.classList.add('light');
            else for (x of changeThemeList) x.classList.remove('light');
            window
                .matchMedia('(prefers-color-scheme: dark)')
                .addEventListener('change', (event) => {
                    if (
                        window.matchMedia('(prefers-color-scheme: light)')
                            .matches
                    )
                        for (x of changeThemeList) x.classList.add('light');
                    else for (x of changeThemeList) x.classList.remove('light');
                });
            var lastMainTag = null;
            var lastSubTag = null;
            var currentBank =
                document.getElementById('banking-info__list').value;

            function copyContent(target) {
                var currentValue;
                if (target == null) currentValue = currentBank;
                else currentValue = target.innerHTML;
                copyToClipboard(currentValue);
                if (window.matchMedia('(prefers-color-scheme: light)').matches)
                    target.innerHTML =
                        '<span class="highlight-text light">Copied!<span>';
                else
                    target.innerHTML =
                        '<span class="highlight-text" >Copied!<span>';
                const delayNotice = setTimeout(() => {
                    target.innerHTML = currentValue;
                }, 1500);
            }
            function showDetails(mainTagName, subTagName) {
                var mainTag = document.getElementById(mainTagName);
                var subTag = document.getElementById(subTagName);
                subTag.classList.toggle('hidden');
                mainTag.classList.toggle('button--pressed');
                if (lastMainTag != null && lastMainTag != mainTag) {
                    lastSubTag.classList.add('hidden');
                    lastMainTag.classList.remove('button--pressed');
                }
                lastMainTag = mainTag;
                lastSubTag = subTag;
            }
            function showNumber() {
                var bankingItem = document.getElementById('banking-info__list');
                var bankingContent = document.getElementById('banking-content');
                currentBank = bankingContent.innerHTML = bankingItem.value;
            }
            function copyToClipboard(textToCopy) {
                // navigator clipboard api needs a secure context (https)
                if (navigator.clipboard && window.isSecureContext) {
                    // navigator clipboard api method'
                    return navigator.clipboard.writeText(textToCopy);
                } else {
                    // text area method
                    let textArea = document.createElement('textarea');
                    textArea.value = textToCopy;
                    // make the textarea out of viewport
                    textArea.style.position = 'fixed';
                    textArea.style.left = '-999999px';
                    textArea.style.top = '-999999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    return new Promise((res, rej) => {
                        // here the magic happens
                        document.execCommand('copy') ? res() : rej();
                        textArea.remove();
                    });
                }
            }
        </script>
    </body>
</html>
